<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="493px" preserveAspectRatio="none" style="width:1432px;height:493px;" version="1.1" viewBox="0 0 1432 493" width="1432px" zoomAndPan="magnify"><defs><filter height="300%" id="fcuzllj5cbez6" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--class CurlContext--><rect fill="#FEFECE" filter="url(#fcuzllj5cbez6)" height="83.1875" id="CurlContext" style="stroke: #A80036; stroke-width: 1.5;" width="143" x="416.83" y="8"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="72" x="452.33" y="24.1387">CurlContext</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="417.83" x2="558.83" y1="31.9688" y2="31.9688"/><ellipse cx="427.83" cy="43.8711" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="25" x="436.83" y="46.1792">init()</text><ellipse cx="427.83" cy="56.6758" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="25" x="436.83" y="58.9839">fini()</text><ellipse cx="427.83" cy="69.4805" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="117" x="436.83" y="71.7886">get_handle(): CURL *</text><ellipse cx="427.83" cy="82.2852" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="52" x="436.83" y="84.5933">execute()</text><!--class CurlExecutor--><rect fill="#FEFECE" filter="url(#fcuzllj5cbez6)" height="57.5781" id="CurlExecutor" style="stroke: #A80036; stroke-width: 1.5;" width="98" x="439.33" y="151"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="79" x="448.83" y="167.1387">CurlExecutor</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="440.33" x2="536.33" y1="174.9688" y2="174.9688"/><ellipse cx="450.33" cy="186.8711" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="25" x="459.33" y="189.1792">init()</text><polygon fill="#FFFF44" points="450.33,194.6758,454.33,198.6758,450.33,202.6758,446.33,198.6758" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="72" x="459.33" y="201.9839">init_options()</text><!--class EmailSender--><rect fill="#FEFECE" filter="url(#fcuzllj5cbez6)" height="57.5781" id="EmailSender" style="stroke: #A80036; stroke-width: 1.5;" width="384" x="20.33" y="151"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="78" x="173.33" y="167.1387">EmailSender</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="21.33" x2="403.33" y1="174.9688" y2="174.9688"/><ellipse cx="31.33" cy="186.8711" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="291" x="40.33" y="189.1792">send(EmailContent, optional&lt;EmailHeaders&gt;): bool</text><ellipse cx="31.33" cy="199.6758" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="358" x="40.33" y="201.9839">reply(EmailContent, EmailData, optional&lt;EmailHeaders&gt;): bool</text><!--class CurlEmailSender--><rect fill="#FEFECE" filter="url(#fcuzllj5cbez6)" height="70.3828" id="CurlEmailSender" style="stroke: #A80036; stroke-width: 1.5;" width="384" x="43.33" y="282"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="102" x="184.33" y="298.1387">CurlEmailSender</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="44.33" x2="426.33" y1="305.9688" y2="305.9688"/><ellipse cx="54.33" cy="317.8711" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="291" x="63.33" y="320.1792">send(EmailContent, optional&lt;EmailHeaders&gt;): bool</text><ellipse cx="54.33" cy="330.6758" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="358" x="63.33" y="332.9839">reply(EmailContent, EmailData, optional&lt;EmailHeaders&gt;): bool</text><polygon fill="#FFFF44" points="54.33,338.4805,58.33,342.4805,54.33,346.4805,50.33,342.4805" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="72" x="63.33" y="345.7886">init_options()</text><!--class EmailReceiver--><rect fill="#FEFECE" filter="url(#fcuzllj5cbez6)" height="57.5781" id="EmailReceiver" style="stroke: #A80036; stroke-width: 1.5;" width="374" x="572.33" y="151"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="86" x="716.33" y="167.1387">EmailReceiver</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="573.33" x2="945.33" y1="174.9688" y2="174.9688"/><ellipse cx="583.33" cy="186.8711" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="348" x="592.33" y="189.1792">get_email(nanoseconds polling_period): optional&lt;EmailData&gt;</text><ellipse cx="583.33" cy="199.6758" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="63" x="592.33" y="201.9839">shutdown()</text><!--class CurlEmailReceiver--><rect fill="#FEFECE" filter="url(#fcuzllj5cbez6)" height="95.9922" id="CurlEmailReceiver" style="stroke: #A80036; stroke-width: 1.5;" width="549" x="462.83" y="269"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="110" x="682.33" y="285.1387">CurlEmailReceiver</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="463.83" x2="1010.83" y1="292.9688" y2="292.9688"/><ellipse cx="473.83" cy="304.8711" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="408" x="482.83" y="307.1792">get_email(nanoseconds polling_period): optional&lt;EmailData&gt; {abstract</text><polygon fill="#FFFF44" points="473.83,312.6758,477.83,316.6758,473.83,320.6758,469.83,316.6758" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="72" x="482.83" y="319.9839">init_options()</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="470.83" y="327.4805"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="158" x="482.83" y="332.7886">get_nextuid(): optional&lt;int&gt;</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="470.83" y="340.2852"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="261" x="482.83" y="345.5933">get_email_from_uid(int): optional&lt;EmailData&gt;</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="470.83" y="353.0898"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="523" x="482.83" y="358.3979">execute(optional&lt;string&gt;, url_options, optional&lt;string&gt; custom_request): optional&lt;string&gt;</text><!--class IntraEmailReceiver--><rect fill="#FEFECE" filter="url(#fcuzllj5cbez6)" height="78.3828" id="IntraEmailReceiver" style="stroke: #A80036; stroke-width: 1.5;" width="374" x="1047.33" y="278"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="115" x="1176.83" y="294.1387">IntraEmailReceiver</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1048.33" x2="1420.33" y1="301.9688" y2="301.9688"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1055.33" y="310.8711"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="156" x="1067.33" y="316.1792">emails: queue&lt;EmailData&gt;</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1048.33" x2="1420.33" y1="322.7734" y2="322.7734"/><ellipse cx="1058.33" cy="334.6758" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="348" x="1067.33" y="336.9839">get_email(nanoseconds polling_period): optional&lt;EmailData&gt;</text><ellipse cx="1058.33" cy="347.4805" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="135" x="1067.33" y="349.7886">receive(EmailData data)</text><!--class IntraEmailSender--><rect fill="#FEFECE" filter="url(#fcuzllj5cbez6)" height="57.5781" id="IntraEmailSender" style="stroke: #A80036; stroke-width: 1.5;" width="384" x="420.33" y="425"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="107" x="558.83" y="441.1387">IntraEmailSender</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="421.33" x2="803.33" y1="448.9688" y2="448.9688"/><ellipse cx="431.33" cy="460.8711" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="291" x="440.33" y="463.1792">send(EmailContent, optional&lt;EmailHeaders&gt;): bool</text><ellipse cx="431.33" cy="473.6758" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="358" x="440.33" y="475.9839">reply(EmailContent, EmailData, optional&lt;EmailHeaders&gt;): bool</text><!--link CurlContext to CurlExecutor--><path d="M488.33,104.29 C488.33,120.27 488.33,137.14 488.33,150.8 " fill="none" id="CurlContext-CurlExecutor" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="488.33,91.16,484.33,97.16,488.33,103.16,492.33,97.16,488.33,91.16" style="stroke: #A80036; stroke-width: 1.0;"/><!--link EmailSender to CurlEmailSender--><path d="M220.53,229.14 C223.48,246.44 226.74,265.6 229.45,281.51 " fill="none" id="EmailSender-CurlEmailSender" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="213.61,230.19,217.15,209.3,227.41,227.84,213.61,230.19" style="stroke: #A80036; stroke-width: 1.0;"/><!--link CurlExecutor to CurlEmailSender--><path d="M421.48,216.67 C383.62,236.87 336.5,262.01 299.14,281.95 " fill="none" id="CurlExecutor-CurlEmailSender" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="418.3,210.43,439.24,207.19,424.9,222.78,418.3,210.43" style="stroke: #A80036; stroke-width: 1.0;"/><!--link EmailReceiver to CurlEmailReceiver--><path d="M751.49,229.08 C749.38,242.02 747.11,255.99 745.01,268.87 " fill="none" id="EmailReceiver-CurlEmailReceiver" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="744.59,227.91,754.71,209.3,758.41,230.17,744.59,227.91" style="stroke: #A80036; stroke-width: 1.0;"/><!--link CurlExecutor to CurlEmailReceiver--><path d="M555.4,217.36 C584.62,233.21 619.26,251.99 650.43,268.89 " fill="none" id="CurlExecutor-CurlEmailReceiver" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="551.77,223.36,537.52,207.67,558.44,211.05,551.77,223.36" style="stroke: #A80036; stroke-width: 1.0;"/><!--link EmailReceiver to IntraEmailReceiver--><path d="M877.55,214.6 C945.26,233.85 1030.46,258.06 1100.61,278 " fill="none" id="EmailReceiver-IntraEmailReceiver" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="875.36,221.26,858.03,209.05,879.19,207.79,875.36,221.26" style="stroke: #A80036; stroke-width: 1.0;"/><!--link EmailSender to IntraEmailSender--><path d="M82.99,218.14 C60.11,230.61 39.2,247.14 25.33,269 C2.46,305.02 -2.52,332.67 25.33,365 C75.8,423.61 268.95,443.74 420.07,450.37 " fill="none" id="EmailSender-IntraEmailSender" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="80.18,211.72,101.22,209.19,86.35,224.29,80.18,211.72" style="stroke: #A80036; stroke-width: 1.0;"/><!--link IntraEmailReceiver to IntraEmailSender--><path d="M1056.88,358.88 C1047.56,360.97 1038.34,363.02 1029.33,365 C935.57,385.64 829.73,407.96 748.14,424.96 " fill="none" id="IntraEmailReceiver-IntraEmailSender" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="1069.62,356.02,1062.8877,353.4361,1057.9132,358.6567,1064.6455,361.2406,1069.62,356.02" style="stroke: #A80036; stroke-width: 1.0;"/><!--link EmailSender to EmailReceiver--><!--
@startuml

hide empty attributes
hide empty methods
hide circle


class CurlContext {
   +init()
   +fini()
   +get_handle(): CURL *
   +execute()
}

class CurlExecutor {
   +init()
   #init_options() {abstract}
}
CurlContext *- - CurlExecutor


class EmailSender {
   +send(EmailContent, optional<EmailHeaders>): bool {abstract}
   +reply(EmailContent, EmailData, optional<EmailHeaders>): bool {abstract}
}

class CurlEmailSender {
   +send(EmailContent, optional<EmailHeaders>): bool {abstract}
   +reply(EmailContent, EmailData, optional<EmailHeaders>): bool {abstract}
   #init_options() {abstract}
}
EmailSender <|- - CurlEmailSender
CurlExecutor <|- - CurlEmailSender


class EmailReceiver {
   +get_email(nanoseconds polling_period): optional<EmailData> {abstract}
   +shutdown()
}
class CurlEmailReceiver {
   +get_email(nanoseconds polling_period): optional<EmailData> {abstract
   #init_options() {abstract}
   -get_nextuid(): optional<int>
   -get_email_from_uid(int): optional<EmailData>
   -execute(optional<string>, url_options, optional<string> custom_request): optional<string>
}
EmailReceiver <|- - CurlEmailReceiver
CurlExecutor <|- - CurlEmailReceiver


class IntraEmailReceiver {
   -emails: queue<EmailData>
   +get_email(nanoseconds polling_period): optional<EmailData> {abstract}
   +receive(EmailData data)
}
EmailReceiver <|- - IntraEmailReceiver

class IntraEmailSender {
   +send(EmailContent, optional<EmailHeaders>): bool {abstract}
   +reply(EmailContent, EmailData, optional<EmailHeaders>): bool {abstract}
}
EmailSender <|- - IntraEmailSender
IntraEmailReceiver o- - IntraEmailSender

EmailSender -right[hidden]- EmailReceiver

@enduml

PlantUML version 1.2018.13(Mon Nov 26 17:11:51 UTC 2018)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.11+9
Operating System: Linux
OS Version: 5.8.0-1040-azure
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>